var clay={min:.179,q1:.229,median:.243,q3:.296,max:.354},cement={min:.278,q1:.661,median:.73,q3:.803,max:.912},concrete={min:.047,q1:.081,median:.106,q3:.139,max:.149},timber_nocc={min:.263,q1:.409,median:.493,q3:.693,max:.856},timber_withcc={min:-1.292,q1:-1.162,median:-1.047,q3:-.844,max:-.58},opacity=.6,colors=palette('tol',8),bgColors=colors.map(a=>hexToRgba(a,opacity)),colorIdx=[4,7,3,6,3],showTimberWCS=!1,switchTimber=function(){showTimberWCS?(showTimberWCS=!1,document.querySelector("#timberSwitch").innerText="Show me the timber!",chart1.data.labels.pop(),chart1.data.datasets[0].data.pop(),chart1.update()):(showTimberWCS=!0,document.querySelector("#timberSwitch").innerText="Hide the timber!",chart1.data.labels.push('Timber w/ CS'),chart1.data.datasets[0].data.push(timber_withcc),chart1.update())},data={labels:['Clay','Concrete','Timber','Cement'],datasets:[{backgroundColor:colorIdx.map(a=>bgColors[a]),borderColor:colorIdx.map(a=>colors[a]),borderWidth:2,itemRadius:0,data:[clay,concrete,timber_nocc,cement]}]},indexAxis=window.innerWidth>680?'y':'x',displayXAxisLabel=window.innerWidth>680,options={type:'boxplot',data,options:{responsive:!0,maintainAspectRatio:!1,indexAxis,coef:0,scales:{x:{title:{display:displayXAxisLabel,text:'(kgCO2e / kg)',align:'end'}}},plugins:{legend:{display:!1},title:{display:!0,text:'Embodied emissions of common construction materials (kgCO2e / kg)'},tooltip:{enabled:!0,displayColors:!1,callbacks:{label:function(a){var b=[`Average: ${a.raw.median} (kgCO2e/kg)`,`Normal range: ${a.raw.q1} to ${a.raw.q3}`,`Extremes: ${a.raw.min} to ${a.raw.max}`];return b}}}}}},ctx=document.getElementById('embodied-co2').getContext('2d'),chart1=new Chart(ctx,options);chart1.render()